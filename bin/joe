#! /usr/bin/env ruby -rubygems

require File.join(File.dirname(__FILE__), "..", "lib", "joe")
require "clap"

if ARGV.empty?
  puts DATA.read
  exit
end

joe = Joe.new

Clap.run ARGV,
  "gemspec" => joe.method(:gemspec),
  "build"   => joe.method(:build),
  "install" => joe.method(:install),
  "archive" => joe.method(:archive),
  "release" => joe.method(:release),
  "help"    => lambda { puts DATA.read }


__END__

=== General Commands

help                 # Show this usage guide
gemspec              # Generate the gemspec file out of the ERB template
build                # Build the gem
install              # Build the gem, package it, and install it
archive              # Create a .tar.gz archive out of the current HEAD"
release              # Public gem to rubygems.org